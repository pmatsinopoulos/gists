[source,cypher]
----
// Modules
// -------
create (:Module {name: 'KumquatModel'});

// BusinessEntities
// ----------------
create (:BusinessEntity {name: 'Kumquat::FlightReservation', attributes: ['back_to_back_payments', 'back_to_back_payments_attributes', 'commission_percentage', 'cost_break_down', 'cost_per_baggage', 'cost_per_baggage_currency', 'cost_per_baggage_currency_id', 'flight_passengers', 'flight_passengers_attributes', 'flight_trips', 'flight_trips_attributes', 'gds_type', 'itinerary_id', 'lead_id', 'maximum_baggage_items', 'number_of_baggages', 'notes_attributes', 'office_id', 'payment_options', 'payment_options_attributes', 'payment_type', 'payment_type_id', 'payment_handler', 'payment_handler_id', 'payment_at', 'pnr', 'price', 'price_currency_id', 'price_currency_code', 'price_local', 'price_local_currency_id', 'price_local_currency_code', 'product_attributes', 'paid_price', 'paid_price_currency_id', 'paid_price_currency_code', 'payment_due_at', 'reserved_at', 'spawned_flights', 'spawned_flights_attributes', 'split_flight_id', 'version']});

create (:BusinessEntity {name: 'Kumquat::FlightTrip', attributes: ['flight_reservation_id', 'position', 'duration_minutes', 'vendor_locator', 'flight_trip_segments', 'flight_trip_segments_attributes', 'version',
'has_day_change', 'is_red_eye']});

create (:BusinessEntity {name: 'Kumquat::FlightPassenger', attributes: ['flight_reservation_id', 'gender', 'gender_id', 'position', 'passenger_type', 'passenger_type_id', 'first_name', 'last_name', 'birth_date']});

create (:BusinessEntity {name: 'Kumquat::Note', attributes: ['note_owner_id', 'note_owner', 'note_owner_type', 'body']});

create (:BusinessEntity {name: 'Kumquat::Invoice', attributes: ['address', 'binary_a', 'binary_b', 'city', 'country', 'customer_code', 'customer_name', 'document_description', 'document_number', 'document_type', 'email', 'fax_1', 'fax_2', 'file_a', 'file_b', 'filename', 'flight_reservation_id', 'invoicee_id', 'invoice_items_attributes', 'invoicee_type', 'issue_date', 'issue_time', 'language_code', 'notes', 'occupation', 'payment_type', 'pnr', 'tax_registration_office', 'telephone_1', 'telephone_2', 'total_net_value', 'total_value', 'total_value_as_text', 'total_value_foreign_currency', 'total_vat_value', 'vat_number', 'version']});

create (:BusinessEntity {name: 'Kumquat::TradeDocumentDs', attributes: ['document_trade', 'document_trade_id', 'flight_reservation', 'trade_account', 'trade_account_id', 'order_item', 'in_expert', 'ad_code', 'skip_price_check', 'debt_payment_method', 'trade_document_ds_type', 'trade_document_ds_type_id', 'sent_for_invoice', 'bad_xml', 'refunds', 'amount_to_refund', 'amount_to_refund_currency_code', 'secondary_amount', 'refund_date', 'reissues', 'cc_to_carrier', 'refund_code', 'service_fee_amount', 'card_clearance_fee_amount', 'web_discount_amount', 'case_entity_id', 'case_entity', 'task_id', 'task']});

create (:BusinessEntity {name: 'Kumquat::FlightOriginal', attributes: ['flight_reservation_id', 'original']});

create (:BusinessEntity {name: 'Kumquat::PaymentOrder', attributes: ['order', 'order_id', 'payment', 'payment_id', 'order_item', 'order_item_id']});

create (:BusinessEntity {name: 'Kumquat::BackToBackPayment', attributes: ['amount', 'amount_currency_id', 'amount_currency', 'back_to_back_payment_type', 'back_to_back_payment_type_id', 'card_number', 'card_reference', 'flight_reservation', 'flight_reservation_id', 'paid_at']});

create (:BusinessEntity {name: 'Kumquat::PaymentOption', attributes: ['amount', 'amount2', 'flight_reservation', 'flight_reservation_id', 'payment_type', 'payment_type_id', 'name', 'currency_id', 'currency', 'currency2_id', 'currency2', 'payment_reference']});

create (:BusinessEntity {name: 'Kumquat::CommunicationLog', attributes: ['attachments', 'bcc', 'body', 'category', 'category_id', 'case_entity', 'case_entity_id', 'cc', 'exception', 'type', 'type_id', 'from', 'flight_reservation', 'flight_reservation_id', 'person', 'person_id', 'status', 'status_id', 'subject', 'task', 'task_id', 'to']});

create (:BusinessEntity {name: 'Kumquat::TrackingInfo', attributes: ['source', 'medium', 'campaign', 'keyword', 'flight_reservation', 'flight_reservation_id']});

create (:BusinessEntity {name: 'Kumquat::FlightDocument', attributes: ['base_fare', 'base_fare_currency', 'base_fare_currency_id', 'commission_amount', 'commission_percentage', 'derived_exchange_rate', 'derived_exchange_rate_flight_document', 'derived_exchange_rate_flight_document_id', 'euro_base', 'euro_tax', 'employee', 'employee_id', 'equivalent_fare', 'equivalent_fare_currency', 'equivalent_fare_currency_id', 'exchange_rate', 'flight_document_flight_trip_segments_attributes', 'flight_document_source', 'flight_document_source_id', 'flight_passenger_id', 'flight_passenger', 'last_four_digits', 'new_flight_document', 'new_flight_document_id', 'number', 'office_id', 'old_ticket_number', 'payment_type_id', 'payment_type', 'ticketing_carrier_id', 'ticketing_carrier', 'total_price', 'total_price_currency', 'total_price_currency_id', 'total_taxes', 'total_taxes_currency', 'total_taxes_currency_id', 'type', 'type_id']});

create (:BusinessEntity {name: 'Kumquat::FlightRefund', attributes: ['adjustment', 'adjustment_currency', 'adjustment_currency_id', 'authorization_status', 'authorization_comment', 'authorize_refunds_task', 'authorize_refunds_task_id', 'airline_fee', 'airline_fee_currency', 'airline_fee_currency_id', 'bsp_number', 'card_clearance_fee', 'card_clearance_fee_currency', 'card_clearance_fee_currency_id', 'employee', 'employee_id', 'fare', 'fare_currency', 'fare_currency_id', 'flight_document', 'flight_document_id', 'flight_refund_type', 'flight_refund_type_id', 'iata_authorized_at', 'iata_fare', 'iata_fare_currency', 'iata_fare_currency_id', 'iata_tax', 'iata_tax_currency', 'iata_tax_currency_id', 'iata_payment_type', 'iata_payment_type_id', 'office_id', 'payment_type', 'payment_type_id', 'refunded_at', 'receive_refunds_task_id', 'receive_refunds_task', 'service_fee', 'service_fee_currency', 'service_fee_currency_id', 'tax', 'tax_currency', 'tax_currency_id', 'to_be_invoiced_at', 'total', 'total_currency', 'total_currency_id', 'web_discount', 'web_discount_currency', 'web_discount_currency_id', 'euro_fare', 'euro_tax']});

create (:BusinessEntity {name: 'Kumquat::FlightReservationCostBreakDown', attributes: ['flight_reservation', 'flight_reservation_id', 'total_cost', 'total_cost_currency', 'total_cost_currency_id', 'service_fee', 'service_fee_currency', 'service_fee_currency_id', 'credit_card_fee', 'credit_card_fee_currency', 'credit_card_fee_currency_id', 'child_price_without_taxes', 'child_price_without_taxes_currency', 'child_price_without_taxes_currency_id', 'child_taxes_per_person', 'child_taxes_per_person_currency', 'child_taxes_per_person_currency_id', 'child_price_per_person', 'child_price_per_person_currency', 'child_price_per_person_currency_id', 'infant_price_without_taxes', 'infant_price_without_taxes_currency', 'infant_price_without_taxes_currency_id', 'infant_taxes_per_person', 'infant_taxes_per_person_currency', 'infant_taxes_per_person_currency_id', 'infant_price_per_person', 'infant_price_per_person_currency', 'infant_price_per_person_currency_id', 'adult_price_without_taxes', 'adult_price_without_taxes_currency', 'adult_price_without_taxes_currency_id', 'adult_taxes_per_person', 'adult_taxes_per_person_currency', 'adult_taxes_per_person_currency_id', 'adult_price_per_person', 'adult_price_per_person_currency', 'adult_price_per_person_currency_id']});

create (:BusinessEntity {name: 'Kumquat::Product', attributes: ['contact', 'details', 'details_id', 'details_type', 'order', 'order_id']});

// Relatio1nships
// --------------
match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::FlightTrip'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::FlightPassenger'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::Note'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::Invoice'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::TradeDocumentDs'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::FlightOriginal'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::PaymentOrder'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::BackToBackPayment'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::PaymentOption'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::CommunicationLog'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::TrackingInfo'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::FlightDocument'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::FlightRefund'})
create (n)-[:HAS_MANY]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::FlightReservationCostBreakDown'})
create (n)-[:HAS_ONE]->(n2);

match (n:BusinessEntity {name: 'Kumquat::FlightReservation'}),
      (n2:BusinessEntity {name: 'Kumquat::Product'})
create (n)-[:HAS_ONE]->(n2);

match (n:Module {name: 'KumquatModel'}), 
      (n2:BusinessEntity {name: 'Kumquat::FlightReservation'})
create (n)-[:OWNS]->(n2);

// Return all
// ----------

match (n) return n;
----

//table

//graph
